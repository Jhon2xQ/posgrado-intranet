<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Intranet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>

<body class="bg-black">
<div class="container mx-auto bg-blue-100">

    <!-- ============================================================================================================ -->
    <!-- =================================================Encabezado================================================ -->
    <!-- ============================================================================================================ -->

    <div class="bg-[#6870A3] text-white px-6 py-3 pr-10 flex justify-between items-center w-full h-24">
        <!-- Logo y botones -->
        <div class="flex items-center space-x-3">
            <img th:src="@{/images/Intranet-01.png}" alt="logo" class="h-24 object-contain">
            <button class="bg-purple-200 text-indigo-900 px-4 py-2 rounded-l-lg font-semibold">Procesos</button>

            <!-- Reportes con Dropdown -->
            <div x-data="{ open: false }" class="relative">
                <button @click="open = !open" class="bg-purple-200 text-indigo-900 px-4 py-2 rounded-r-lg font-semibold flex items-center space-x-2">
                    <span>Reportes</span>
                    <!-- Icono de flecha -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
                <div x-show="open" @click.away="open = false" class="absolute left-0 mt-2 bg-white text-black rounded shadow-lg w-40">
                    <a th:href="@{/reporte-pagos}" class="block px-4 py-2 hover:bg-gray-200">Reporte Pagos</a>
                    <a th:href="@{/reporte-notas}" class="block px-4 py-2 hover:bg-gray-200">Reporte Notas</a>
                </div>
            </div>
        </div>

        <!-- Íconos de usuario -->
        <div class="flex items-center space-x-8">
            <a href="https://servicios.unsaac.edu.pe/recaudacion/" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 hover:text-gray-300">
                <!-- Icono de pago -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                    <path d="M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z" />
                    <path fill-rule="evenodd" d="M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z" clip-rule="evenodd" />
                </svg>


                <span>Pagos UNSAAC</span>
            </a>
            <a href="https://tramite.unsaac.edu.pe/tramite/virtual" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 hover:text-gray-300">
                <!-- Icono de libro -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                    <path d="M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z" />
                </svg>

                <span>Trámite documentario</span>
            </a>

            <!-- Usuario con Dropdown -->
            <div x-data="{ open: false }" class="relative">
                <div @click="open = !open" class="flex items-center space-x-2 cursor-pointer">
                    <!-- Icono de usuario -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-10">
                        <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" clip-rule="evenodd" />
                    </svg>

                    <!-- Icono de flecha -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" />
                    </svg>

                </div>
                <div x-show="open" @click.away="open = false" class="absolute right-0 mt-2 bg-white text-black rounded shadow-lg w-32">
                    <a th:href="@{/perfil}" class="block px-4 py-2 hover:bg-gray-200">Perfil</a>
                    <a th:href="@{/logout}" class="block px-4 py-2 hover:bg-gray-200">Salir</a>
                </div>
            </div>
        </div>
    </div>




    <div class="mx-24 mb-12">
        <!-- ============================================================================================================ -->
        <!-- ============================================Información Superior============================================ -->
        <!-- ============================================================================================================ -->

        <div class="m-auto grid grid-cols-2 gap-8">

            <div class="mt-6 bg-white shadow-md rounded-lg overflow-hidden flex flex-col justify-center">
                <!-- Encabezado -->
                <div class="bg-gray-200 px-4 py-2 font-bold text-center">
                    Información del alumno
                </div>
                <!-- Contenido -->
                <div class="px-6 flex flex-col justify-center h-full">
                    <div class="flex border-b py-2">
                        <strong class="pl-5 w-30 min-w-[130px]">Código:</strong>
                        <span class="text-left flex-1" th:text="182932"></span>
                    </div>
                    <div class="flex border-b py-2">
                        <strong class="pl-5 w-30 min-w-[130px]">Nombre:</strong>
                        <span class="text-left flex-1" th:text="${reporte.persona.nombres+' '+reporte.persona.getApellidoPaterno()+' '+reporte.persona.getApellidoMaterno()}"></span>
                    </div>
                    <div class="flex py-2">
                        <strong class="pl-5 w-30 min-w-[130px]">Programa:</strong>
                        <span class="text-left flex-1" th:text="${reporte.getCarrera().getNombre()+' '+reporte.getEspecialidad().getDescripcion()}"></span>
                    </div>
                </div>
            </div>



            <!---------------------------Información-del-académica--------------------------->
            <div class="mt-6 bg-white shadow-md rounded-lg overflow-hidden flex flex-col justify-center">
                <!-- Encabezado -->
                <div class="bg-gray-200 px-4 py-2 font-bold text-center">
                    Información académica
                </div>
                <!-- Contenido -->
                <div class="px-6 flex flex-col justify-center h-full">
                    <div class="flex border-b py-2">
                        <strong class="pl-5 w-48 min-w-[130px]">Tipo programa:</strong>
                        <span class="text-left flex-1" th:text="${reporte.getCarrera().getTipoCarrera()}"></span>
                    </div>
                    <div class="flex border-b py-2">
                        <strong class="pl-5 w-48 min-w-[130px]">Curricula:</strong>
                        <span class="text-left flex-1" th:text="${reporte.getCurricula().getNombre()}"></span>
                    </div>
                    <div class="flex border-b py-2">
                        <strong class="pl-5 w-48 min-w-[130px]">Estado alumno:</strong>
                        <span class="text-left flex-1" th:text="REGULAR"></span>
                    </div>
                    <div class="flex py-2">
                        <strong class="pl-5 w-48 min-w-[130px]">Deudor:</strong>
                        <span class="text-left flex-1" th:text="NO"></span>
                    </div>
                </div>
            </div>




        </div>

        <!-- ============================================================================================================ -->
        <!-- ============================================Información Inferior============================================ -->
        <!-- ============================================================================================================ -->

        <div class="m-auto">
            <!-- Encabezado -->
            <div class="mt-6 bg-[#6870A3] text-white text-center p-3 rounded-t-lg text-lg font-bold">
                INFORMACIÓN DE PAGOS
            </div>

            <!-- Contenedor FLEX para alinear los elementos horizontalmente -->
            <div class="flex mt-4 space-x-6 text-center">
                <!-- Detalle de pagos -->
                <div class="overflow-hidden flex-1 overflow-y-auto" style="max-height: calc(8 * 3rem);">
                    <table class="table-auto w-full border-separate border-spacing-y-2">
                        <!-- Encabezado fijo -->
                        <thead class="bg-gray-200 text-gray-700 sticky top-0">
                        <tr>
                            <th class="p-3">FECHA PAGO</th>
                            <th class="p-3">SEMESTRE</th>
                            <th class="p-3">NRO. DE RECIBO</th>
                            <th class="p-3">MONTO</th>
                            <th class="p-3">LUGAR DE PAGO</th>
                            <th class="p-3">ESTADO</th>
                        </tr>
                        </thead>
                        <!-- Contenido con espacio entre filas -->
                        <tbody>
                        <tr th:each="pago : ${reporte.pagoDetalle}" class="bg-white hover:bg-gray-100 rounded-lg">
                            <td class="p-3" th:text="${#dates.format(pago.getFecha(), 'dd/MM/yyyy')}"></td>
                            <td class="p-3" th:text="${pago.getSemestre()}"></td>
                            <td class="p-3" th:text="${pago.getRecibo()}"></td>
                            <td class="p-3" th:text="${'S/. '+pago.getMonto()}"></td>
                            <td class="p-3" th:text="${pago.getLugarPago()}"></td>
                            <td class="p-3" th:text="Pagado"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>



                <!-- Resumen General -->
                <div class="bg-white shadow-md rounded-lg p-4 w-1/3 border text-left h-64">
                    <h3 class="text-lg font-bold mb-3">Resumen General:</h3>
                    <p class="italic"><strong>Costo total programa: S/.</strong> <span th:text="${reporte.resumenGeneral.getTotalPagoPrograma()}"></span></p>
                    <hr class="my-2">
                    <p class="italic"><strong>Total pagos realizados: S/.</strong> <span th:text="${reporte.resumenGeneral.getTotalPagosRealizados()}"></span></p>
                    <hr class="my-2">
                    <p class="font-bold text-green-600 text-lg">
                        Total deuda hoy: S/. <span th:text="${reporte.resumenGeneral.getTotalPagoPrograma() - reporte.resumenGeneral.getTotalPagosRealizados()}"></span>
                    </p>
                </div>
            </div>
        </div>
    </div>


    <!--===============FOOTER-->
    <footer class="mt-6 bg-[#6870A3] text-white text-sm p-4 h-24">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Copyright -->
            <div class="flex-1 text-center md:text-left">
                © Copyright 2025. Todos los derechos reservados.
            </div>

            <!-- Separador -->
            <div class="hidden md:block w-px h-6 bg-white mx-4"></div>

            <!-- Información de contacto -->
            <div class="flex-1 text-center md:text-right space-y-1">
                <strong class="block">Información de contacto:</strong>
                <div class="flex justify-center md:justify-end items-center space-x-2">
                    <span>Dirección: Av. Paseo de la República 6236 oficina 101. Miraflores - Lima (Perú).</span>
                </div>
                <div class="flex justify-center md:justify-end items-center space-x-2">
                    <span>Teléfono: (01) 717-2663</span>
                </div>
                <div class="flex justify-center md:justify-end items-center space-x-2">
                    <span>📧 <a href="mailto:recepcion@conareme.org.pe" class="underline">recepcion@conareme.org.pe</a></span>
                </div>
            </div>
        </div>
    </footer>


</div>
</body>
</html>
